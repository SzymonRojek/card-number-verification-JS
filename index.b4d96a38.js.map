{"mappings":"IAOAA,EAPA,SAAiCC,EAAMC,GACrC,MAAMC,EAAiC,IAAhBF,EAAKG,OAAe,EAAI,EACzCC,GAAgBH,EAAKI,MAAM,EAAGH,GAAgBI,KAAK,IAEzD,OAAON,EAAKO,SAASH,QCEvBI,EANA,SAA4BC,GAC1B,GAAqB,iBAAVA,EACT,MAAM,IAAIC,MAAM,qCCFpB,MAAMC,EAAe,CAAEC,QAAS,6CAMhCC,EAJA,SAAiCC,GAC/B,MAAO,aAAaC,KAAKD,IAAQH,GCHnC,MAAMK,EAAe,CACnBJ,QAAS,oDAUXK,EAPA,SAA6BH,GAC3B,MAAMI,EAAgBJ,EAAIK,QAAO,MAAQ,IAGzC,QAFyB,CAAC,GAAI,GAAI,IAEVZ,SAASW,EAAcf,SAAiBa,GCAlE,CACE,MAAMI,EAAkBC,SAASC,cAAc,mBACzCC,EAAyBF,SAASC,cACtC,yBAEIE,EAAuBH,SAASC,cAAc,cAE9CG,EAAqB,CAAC,CAAEb,QAAS,6BAEvC,IAAIc,EAAS,GA4Cb,SAASC,EAAeC,GACtB,MA9DJhB,QA8DYiB,GAAaH,EAAOvB,OAAgC,GA7B9D,SAAuBW,GACrB,MAAMgB,EAAchB,EAAIiB,MAAM,KAAKC,IAAIC,QAGjCC,EAAO,CAAC,GACRC,EAAkB,CAAC,GAAI,IAE7B,OAAQL,GACN,KAAK/B,EALY,CAAC,GAAI,GAAI,GAAI,GAAI,IAKO+B,KACtCJ,EAAOvB,QACR2B,EACA,MAAO,CAAElB,QAAS,cACpB,KAAMb,EAAwBmC,EAAMJ,KACjCJ,EAAOvB,QACR2B,GACC/B,EAAwBmC,EAAMJ,KAC5BJ,EAAOvB,QACR2B,EACF,MAAO,CAAElB,QAAS,QACpB,KAAKb,EAAwBoC,EAAiBL,KAC3CJ,EAAOvB,QACR2B,EACA,MAAO,CAAElB,QAAS,oBACpB,QACE,MAAO,CAAEA,QAAS,iBAKewB,CAAcR,GAE7CS,EAAsBX,EACzBM,KACC,EAlERpB,QAkEWA,KAAc,0DAEXA,iCAIPN,KAAK,IAERkB,EAAqBc,UAAYD,EACjCd,EAAuBe,UAAaZ,EAAOvB,OAAwB,GAAf,GAAG0B,IAGzD,SAASU,KA3DT,SAAoBzB,GAClBN,EAAmBM,GAEnB,MAAM0B,EAAmB,CACvB3B,EAAwBC,GACxBG,EAAoBH,IAGtBY,EAC4B,KAA1BN,EAAgBQ,MACZY,EAAiBC,QAAO,EA7BlC7B,QA6BqCA,KAAcA,IACzCa,EAiDNiB,CAAWtB,EAAgBQ,OAC3BD,EAAeP,EAAgBQ,OAGjC,SAASe,EAAaC,GACpBA,EAAMC,iBAENN,IACAO,QAAQC,IAAIrB,GACZN,EAAgBQ,MAAMoB,OACtB5B,EAAgB6B,QAIH5B,SAASC,cAAc,YAE/B4B,iBAAiB,SAAUP","sources":["src/helpers/isStartingNumberCorrect.js","src/helpers/throwWhenNotString.js","src/helpers/hasOnlyNumbersAndSpaces.js","src/helpers/hasCardProperLength.js","src/js/main.js"],"sourcesContent":["function isStartingNumberCorrect(card, data) {\n  const sliceCondition = card.length === 1 ? 1 : 2;\n  const slicedNumber = +data.slice(0, sliceCondition).join(\"\");\n\n  return card.includes(slicedNumber);\n}\n\nexport default isStartingNumberCorrect;\n","function throwWhenNotString(input) {\n  if (typeof input !== \"string\") {\n    throw new Error(\"Given parameter is not a number!\");\n  }\n}\n\nexport default throwWhenNotString;\n","const errorMessage = { message: \"Password has to contain only numbers!\" };\n\nfunction hasOnlyNumbersAndSpaces(str) {\n  return /^[0-9\\s]+$/.test(str) || errorMessage;\n}\n\nexport default hasOnlyNumbersAndSpaces;\n","const errorMessage = {\n  message: \"Please write a proper length of the numbers!\",\n};\n\nfunction hasCardProperLength(str) {\n  const removedSpaces = str.replace(/\\s/g, \"\");\n  const indicatedLengths = [13, 15, 16];\n\n  return indicatedLengths.includes(removedSpaces.length) ? true : errorMessage;\n}\n\nexport default hasCardProperLength;\n","import {\n  hasCardProperLength,\n  hasOnlyNumbersAndSpaces,\n  isLuhnOK,\n  isStartingNumberCorrect,\n  throwWhenNotString,\n} from \"../helpers\";\n\n{\n  const cardNumberInput = document.querySelector(\".js-numberInput\");\n  const additionalScoreElement = document.querySelector(\n    \".js-additionalMessage\"\n  );\n  const messageErrorsElement = document.querySelector(\".js-errors\");\n\n  const errorNumberReuired = [{ message: \"Card Number is required!\" }];\n\n  let errors = [];\n\n  function findErrors(str) {\n    throwWhenNotString(str);\n\n    const validationErrors = [\n      hasOnlyNumbersAndSpaces(str),\n      hasCardProperLength(str),\n    ];\n\n    errors =\n      cardNumberInput.value !== \"\"\n        ? validationErrors.filter(({ message }) => message)\n        : errorNumberReuired;\n  }\n\n  function checkCardType(str) {\n    const changeToArr = str.split(\",\").map(Number);\n\n    const mastercard = [51, 52, 53, 54, 55];\n    const visa = [4];\n    const americanExpress = [34, 37];\n\n    switch (changeToArr) {\n      case isStartingNumberCorrect(mastercard, changeToArr) &&\n        !errors.length &&\n        changeToArr:\n        return { message: \"Mastercard\" };\n      case (isStartingNumberCorrect(visa, changeToArr) &&\n        !errors.length &&\n        changeToArr) ||\n        (isStartingNumberCorrect(visa, changeToArr) &&\n          !errors.length &&\n          changeToArr):\n        return { message: \"Visa\" };\n      case isStartingNumberCorrect(americanExpress, changeToArr) &&\n        !errors.length &&\n        changeToArr:\n        return { message: \"American Express\" };\n      default:\n        return { message: \"Not correct!\" };\n    }\n  }\n\n  function renderMessages(value) {\n    const { message } = !errors.length ? checkCardType(value) : \"\";\n\n    const messageErrorsToHTML = errors\n      .map(\n        ({ message }) => `\n          <li class=\"form__list-error\">\n            ${message}\n          </li>\n        `\n      )\n      .join(\"\");\n\n    messageErrorsElement.innerHTML = messageErrorsToHTML;\n    additionalScoreElement.innerHTML = !errors.length ? `${message}` : \"\";\n  }\n\n  function render() {\n    findErrors(cardNumberInput.value);\n    renderMessages(cardNumberInput.value);\n  }\n\n  function onFormSubmit(event) {\n    event.preventDefault();\n\n    render();\n    console.log(errors);\n    cardNumberInput.value.trim();\n    cardNumberInput.focus();\n  }\n\n  function init() {\n    const form = document.querySelector(\".js-form\");\n\n    form.addEventListener(\"submit\", onFormSubmit);\n  }\n\n  init();\n}\n"],"names":["$81fa0b489be0cc1e$export$2e2bcd8739ae039","card","data","sliceCondition","length","slicedNumber","slice","join","includes","$d47c1cd6fee9d87c$export$2e2bcd8739ae039","input","Error","$6ae5904f152f0283$var$errorMessage","message","$6ae5904f152f0283$export$2e2bcd8739ae039","str","test","$d04161243af1f042$var$errorMessage","$d04161243af1f042$export$2e2bcd8739ae039","removedSpaces","replace","cardNumberInput","document","querySelector","additionalScoreElement","messageErrorsElement","errorNumberReuired","errors","$54b47fc030b7b21e$var$renderMessages","value","message1","changeToArr","split","map","Number","visa","americanExpress","$54b47fc030b7b21e$var$checkCardType","messageErrorsToHTML","innerHTML","$54b47fc030b7b21e$var$render","validationErrors","filter","$54b47fc030b7b21e$var$findErrors","$54b47fc030b7b21e$var$onFormSubmit","event","preventDefault","console","log","trim","focus","addEventListener"],"version":3,"file":"index.b4d96a38.js.map"}
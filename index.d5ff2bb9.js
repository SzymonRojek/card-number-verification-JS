const e={message:"Luhn's algorithm does not point to the truth"};function r(r){return[...r].map((e=>Number(e))).reverse().map(((e,r)=>r%2==1?2*e:e)).reduce(((e,r)=>e+(r>9?String(r).split("").map((e=>Number(e))).reduce(((e,r)=>e+r),0):r)),0)%10==0||e}const t={message:"Please write a proper length of the numbers"};function s(e,r){return r.length&&r.find((({length:r})=>r.includes(e.length)))||t}var n=[{imgUrl:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg",imgClass:"card__logo--mastercard",startingNumbers:[51,52,53,54,55],length:[16]},{imgUrl:"https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg",imgClass:"card__logo--visa",startingNumbers:[4],length:[13,16]},{imgUrl:"https://logosarchive.com/wp-content/uploads/2021/07/American-Express-logo.svg",imgClass:"card__logo--americanExpress",startingNumbers:[34,37],length:[15]}];const a=document.querySelector(".js-cards__collection"),c=document.querySelector(".js-card__logo"),o=document.querySelector(".js-numberInput"),i=document.querySelector(".js-form__list--errors"),u=document.querySelector(".js-card__number");function l(e){e.preventDefault(),o.focus(),o.value.trim();const t=(a=o.value,n?.filter((e=>{const r=e.startingNumbers.length>1?2:1,t=Number(a.slice(0,r));return e.startingNumbers.includes(t)})));var a;const l=function(e,t){!function(e){if("string"!=typeof e)throw new Error("Given parameter is not a string!")}(e);const n=[{message:"Card Number is required"}],a={message:"Card number is incorrect - only MasterCard, Visa or American Express are required"},c=[s(e,t),r(e),t.length?"":a];return e?c.filter((({message:e})=>e)):n}(o.value,t);!function(e,r){!function(e,r){const t=e.map((({message:e})=>`\n          <li class="form__list-error">\n            ${e}\n          </li>\n        `)).join("");i.innerHTML=t,function(e,r){const t=0;e.length?(c.removeAttribute("src"),u.classList.remove("card__number--correct"),u.classList.add("card__number--uncorrect")):(c.src=r[t].imgUrl,c.classList.add(r[t].imgClass),u.classList.add("card__number--correct"))}(e,r)}(e,r)}(l,t),!l.length&&(o.value="")}!function(){n.forEach((({imgUrl:e,imgClass:r})=>{const t=new Image;t.src=e,t.classList.add(r),a.append(t)}));document.querySelector(".js-form").addEventListener("submit",l)}(),o.addEventListener("input",(e=>{u.textContent=""!==e.target.value?o.value.match(/.{1,4}/g).join(" "):"0000 0000 0000 0000",i.textContent=e.target.value&&"",function(){c.hasAttribute("src")&&c.removeAttribute("src");u.classList.contains("card__number--correct")&&u.classList.remove("card__number--correct");u.classList.contains("card__number--uncorrect")&&u.classList.remove("card__number--uncorrect");n.forEach((({imgClass:e})=>{c.classList.contains(e)&&c.classList.remove(e)}))}()}));
//# sourceMappingURL=index.d5ff2bb9.js.map
